<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 ~ Copyright (c) 2005-2010, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 ~
 ~ WSO2 Inc. licenses this file to you under the Apache License,
 ~ Version 2.0 (the "License"); you may not use this file except
 ~ in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~    http://www.apache.org/licenses/LICENSE-2.0
 ~
 ~ Unless required by applicable law or agreed to in writing,
 ~ software distributed under the License is distributed on an
 ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 ~ KIND, either express or implied.  See the License for the
 ~ specific language governing permissions and limitations
 ~ under the License.
 -->
<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
    <link href="../../admin/css/documentation.css" rel="stylesheet" type="text/css" media="all" />
    <title>Carbon Data Sources - User Guide</title></head>
<body>

<h1>Carbon Data Sources</h1>
<h2>Content</h2><div class="toc"><ul><li><a href="#Introducti">Introduction</a></li>
    <li><a href="#createDS">Create Carbon DataSource</a></li>
    <li><a href="#exposeJndi">Expose as a JNDI Data source</a></li>
    <li><a href="#dsConfigParams">Defining Data Source Configuration Parameters</a></li>
    </ul>
</div><h2 id="Introducti">Introduction</h2>
	<p>Carbon Data Source feature in Data Services Server can be used to create data sources which can be used inside data services
	directly through the name of the Carbon Data Source. The datasources created using Carbon Data Source feature will be persisted, 
	and can be used when ever required.</p>

	<h2 id="createDS">Create Carbon DataSource</h2>
	
	<p>To create the carbon data source click on the Data Sources menu item under the
            configuration.
        </p>

        <br/>
        <img alt="DS" src="images/create_datasource.png"/>
        <p>Figure 1: Create Carbon Data Source menu</p>
        <br/>

        <p>Click on 'Add Data Source' link in Data Sources page which will direct you to a page
            where you
            can enter the details for the data source. 
        </p>

	<p>
	You can select a datasource provider from the highlighted combo box. For the 'default' Data 
	Source Provider, given connection properties Driver, URL, User Name and 
	Password need to be entered.
	</p>

        <br/>
        <img alt="DS" src="images/carbon_datasource_default.png"/>
        <p>Figure 2: Creating the Carbon Data Source</p>
        <br/>

	<p>
	If you need to add a data source supported by an External Datasource Provider class such 
	as com.mysql.jdbc.jdbc2.optional.MysqlXADataSource, select 'external' as the Data 
	Source Provider. Then enter the name and value of connection properties by 
	clicking 'Add Property'. Given below is an example data source  of External 
	Datasource Provider
	with eneterd values. 
	</p>

	<br/>
	<img alt="DS" src="images/carbon_datasource_external.png"/>
        <p>Figure 3: Creating the Carbon Data Source of External Data Source Provider</p>
        

	<p>
	After entering the details you can test the connection by click on 'Test Connection' 
	button on bottom of the page. Then click 'Add' to save the data source. 
	</p>

	<br/>

        <p>Once you have created the carbon data source, you can use it inside the data service.
            Select the 'Carbon Data Source' as the type of the data source in Add data source page
            in the
            data services wizard. Select the carbon data source name which you have created from the
            drop down list.
        </p>

        <br/>
        <img alt="DS" src="images/add_carbon_ds.png"/>
        <p>Figure 4: Creating the data source for Carbon Data Source</p>
        <br/>
      
      
      <h2 id="exposeJndi">Expose as a JNDI Data source</h2>
        <p>The adding data source can be exposed as a JNDI Data Source as well. Expand
	'Expose as a JNDI data source' and enter the required values. If the 
	data source will be using Data Source Factory, click on the checkbox 
	'Use Data Source Factory' and define the JNDI properties. Given below is an 
	example JNDI configuration. 
        </p>
        <br/>
        <img alt="DS" src="images/carbon_datasource_jndi.png"/>
        <p>Figure 5: Expose as a JNDI Data source</p>
        <br/>
        <p>When creating the data service select the data source type as 'JNDI' and enter the values
            to be used to connect to the previously created JNDI enabled data source.
        </p>
        <br/>
        <img alt="DS" src="images/jndi_dataservice.png"/>
        <p>Figure 6: Creating the data source for JNDI</p>
        <br/>
        
		<h2 id="dsConfigParams">Defining Data Source Configuration Parameters</h2>
	<p>
	By expanding the 'Data Source Configuration Parameters' you can set the jdbc-pool 
	properties for the data source.
	</p>
	<br/>
        <img alt="DS" src="images/ds_expand_config_params.png"/>
        <p>Figure 7: Expanding Data Source Configuration Parameters</p>
        <br/>

	<p>
	Data Source Configuration Parameters with default values is showing below. 
	</p>
	<br/>
        <img alt="DS" src="images/ds_config_params.png"/>
        <p>Figure 8: Data Source Configuration Parameters</p>
        <br/>
		
<div class="clear">
</div>
<div id="footer">
    <div class="xright">&#169;
        2011
        WSO2 Inc

    </div>
    <div class="clear">
        <hr/>
    </div>
</div>
</body>
</html>